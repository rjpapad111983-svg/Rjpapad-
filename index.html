<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>RJ Papad Wallet Sidebar (Final Locked)</title>
<style>
:root {
  --bg: #fff8dc;
  --accent: #ffb300;
  --card: #fff;
}
html,body {
  margin:0; padding:0;
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color:#222;
  height:100%;
  overflow-x:hidden;
}
button{cursor:pointer;}

/* ==== LOCKED AREA START ==== */
.overlay {
  position: fixed; top:0; left:0; width:100%; height:100%;
  display:flex; align-items:center; justify-content:center;
  background:#fff;
  z-index:10;
}
.panel {
  background:#fff; padding:20px; border-radius:14px;
  box-shadow:0 4px 20px rgba(0,0,0,0.1);
  width:90%; max-width:400px;
}
h2{color:#c47d04;margin:0 0 10px;}
input{width:100%;padding:10px;margin:6px 0;border:1px solid #ccc;border-radius:8px;}
.btn-primary{background:var(--accent);color:#000;padding:10px;border:none;border-radius:8px;font-weight:600;width:100%;}
.btn-secondary{background:#eee;color:#000;padding:10px;border:none;border-radius:8px;font-weight:600;width:100%;}

/* Logo */
.logo-full{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px;height:100%;background:#fff;}
.logo-full img{width:300px;max-width:90%;border-radius:12px;box-shadow:0 8px 25px rgba(0,0,0,0.1);}
.lang-row{display:flex;gap:8px;}
.lang-btn{padding:8px 12px;border-radius:8px;border:1px solid #ccc;cursor:pointer;}
.lang-btn.active{background:var(--accent);color:#fff;}

/* Banner */
.banner{margin:12px auto;max-width:980px;}
.banner img{width:100%;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,0.08);}

/* Sidebar Wallet */
#walletMenuBtn{
  position:fixed;
  top:12px; right:12px;
  z-index:99;
  background:var(--accent);
  border:none; color:#111;
  font-size:22px;
  border-radius:8px;
  padding:6px 10px;
  box-shadow:0 2px 5px rgba(0,0,0,0.2);
}
#walletSidebar{
  position:fixed;
  top:0; right:-320px;
  width:300px;
  height:100%;
  background:#fff3cd;
  box-shadow:-2px 0 10px rgba(0,0,0,0.2);
  padding:20px;
  transition: right 0.4s ease;
  z-index:98;
}
#walletSidebar.open{right:0;}
#walletSidebar h3{margin-top:0;color:#c47d04;}
.amount{font-size:26px;font-weight:700;color:green;margin:10px 0;}
#closeWallet{background:#ddd;color:#000;padding:8px 12px;border:none;border-radius:8px;cursor:pointer;margin-top:10px;}
/* ==== LOCKED AREA END ==== */
</style>
</head>
<body>

<!-- ==== LOCKED AREA START ==== -->
<div id="registerPage" class="overlay">
  <div class="panel">
    <h2>‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</h2>
    <input id="regName" type="text" placeholder="‡§®‡§æ‡§Æ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)">
    <input id="regMobile" type="tel" maxlength="10" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ (10 ‡§Ö‡§Ç‡§ï)">
    <button id="btnRegister" class="btn-primary">‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
    <p id="regError" style="color:red;font-size:13px;"></p>
  </div>
</div>

<div id="loginPage" class="overlay" style="display:none;">
  <div class="panel">
    <h2>‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</h2>
    <input id="loginMobile" type="tel" maxlength="10" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ (10 ‡§Ö‡§Ç‡§ï)">
    <button id="btnLogin" class="btn-primary">‡§≤‡•â‡§ó‡§ø‡§®</button>
    <p id="loginError" style="color:red;font-size:13px;"></p>
  </div>
</div>

<div id="logoPage" class="overlay" style="display:none;">
  <div class="logo-full">
    <!-- Editable: Logo -->
    <img src="https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_0000000040986208ae9fdd85a3a3cbc8.png">
    <div class="lang-row">
      <button class="lang-btn active" data-lang="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
      <button class="lang-btn" data-lang="en">English</button>
      <button class="lang-btn" data-lang="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</button>
    </div>
    <button id="btnNext" class="btn-primary">‡§Ö‡§ó‡§≤‡§æ ‡§™‡•á‡§ú ‚ûú</button>
  </div>
</div>

<div id="mainPage" style="display:none;">
  <!-- Banner Top -->
  <div class="banner">
    <img src="https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000de7861faafb1b8052e9bd122%20(1).png">
  </div>

  <div class="banner">
    <img src="https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000aac061fdacd52dbbf8a83410.png">
  </div>

  <p id="welcomeText" style="font-weight:600;">RJ ‡§™‡§æ‡§™‡§°‡§º ‡§≤‡•â‡§Ø‡§≤‡•ç‡§ü‡•Ä ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!</p>
  <button id="btnLogout" class="btn-secondary" style="max-width:200px;">Logout</button>
</div>

<!-- Sidebar Wallet -->
<button id="walletMenuBtn">‚ò∞</button>
<div id="walletSidebar">
  <h3>üí∞ ‡§µ‡•â‡§≤‡•á‡§ü</h3>
  <p id="walletMobile">‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤: ‚Äî</p>
  <div id="walletAmount" class="amount">‚Çπ0</div>
  <button id="addMoney" class="btn-primary">+ ‚Çπ10 ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  <button id="closeWallet">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç ‚úñ</button>
</div>
<!-- ==== LOCKED AREA END ==== -->

<script>
const SHEET_WEBHOOK_URL="YOUR_SCRIPT_URL_HERE";
const SHEET_SECRET="rj_secret_2025_xyz";
const KEY_MOBILE="rj_mobile",KEY_NAME="rj_name",KEY_AMOUNT="rj_amount";
const el=id=>document.getElementById(id);
const regP=el('registerPage'),logP=el('loginPage'),logoP=el('logoPage'),mainP=el('mainPage');
const regErr=el('regError'),loginErr=el('loginError');
let currentLang="hi";

/* Lang Buttons */
const LANG={
  hi:{welcome:"RJ ‡§™‡§æ‡§™‡§°‡§º ‡§≤‡•â‡§Ø‡§≤‡•ç‡§ü‡•Ä ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!"},
  en:{welcome:"Welcome to RJ Papad Loyalty Program!"},
  gu:{welcome:"RJ ‡™™‡™æ‡™™‡™° ‡™≤‡´ã‡™Ø‡™≤‡´ç‡™ü‡´Ä ‡™™‡´ç‡™∞‡´ã‡™ó‡´ç‡™∞‡™æ‡™Æ‡™Æ‡™æ‡™Ç ‡™Ü‡™™‡™®‡´Å‡™Ç ‡™∏‡´ç‡™µ‡™æ‡™ó‡™§ ‡™õ‡´á!"}
};
document.querySelectorAll('.lang-btn').forEach(b=>b.onclick=()=>{currentLang=b.dataset.lang;document.querySelectorAll('.lang-btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');el('welcomeText').textContent=LANG[b.dataset.lang].welcome;});

/* Register */
el('btnRegister').onclick=async()=>{
  const n=el('regName').value.trim(),m=el('regMobile').value.trim();
  if(!/^[0-9]{10}$/.test(m)){regErr.textContent="‡§∏‡§π‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§°‡§æ‡§≤‡•á‡§Ç";return;}
  localStorage.setItem(KEY_MOBILE,m);
  localStorage.setItem(KEY_NAME,n);
  localStorage.setItem(KEY_AMOUNT,"0");
  regP.style.display="none";logP.style.display="flex";
  await saveToSheet("register",m,n,0);
};

/* Login */
el('btnLogin').onclick=()=>{
  const m=el('loginMobile').value.trim(),s=localStorage.getItem(KEY_MOBILE);
  if(m!==s){loginErr.textContent="‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à";return;}
  loginErr.textContent="";logP.style.display="none";logoP.style.display="flex";
};

/* Logo ‚Üí Main */
el('btnNext').onclick=()=>{logoP.style.display="none";mainP.style.display="block";updateWallet();};

/* Wallet Sidebar */
const sidebar=el('walletSidebar'),menuBtn=el('walletMenuBtn'),closeBtn=el('closeWallet');
menuBtn.onclick=()=>sidebar.classList.toggle('open');
closeBtn.onclick=()=>sidebar.classList.remove('open');

/* Add Money */
el('addMoney').onclick=()=>{
  let amt=parseInt(localStorage.getItem(KEY_AMOUNT)||"0");
  amt+=10;
  localStorage.setItem(KEY_AMOUNT,amt);
  updateWallet();
  saveToSheet("add_money",localStorage.getItem(KEY_MOBILE),localStorage.getItem(KEY_NAME),amt);
};

/* Logout */
el('btnLogout').onclick=()=>{mainP.style.display="none";logP.style.display="flex";};

/* Update Wallet */
function updateWallet(){
  const mob=localStorage.getItem(KEY_MOBILE)||"‚Äî";
  const amt=parseInt(localStorage.getItem(KEY_AMOUNT)||"0");
  el('walletMobile').textContent="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤: "+mob;
  el('walletAmount').textContent="‚Çπ"+amt;
}

/* Save to Sheet */
async function saveToSheet(action,mobile,name,amount){
  if(!SHEET_WEBHOOK_URL.startsWith("http"))return;
  try{
    await fetch(SHEET_WEBHOOK_URL,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({secret:SHEET_SECRET,action,user_mobile:mobile,user_name:name,language:currentLang,amount})
    });
  }catch(e){console.log(e);}
}

/* Auto-Lock */
window.addEventListener('DOMContentLoaded',()=>{
  const html=document.documentElement.innerHTML;
  if(!html.includes("LOCKED AREA START")||!html.includes("LOCKED AREA END")){
    alert("‚ö†Ô∏è Locked ‡§ï‡•ã‡§° ‡§è‡§°‡§ø‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ!");
    location.reload();
  }
});
</script>
</body>
</html>
