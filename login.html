<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡§≤‡•â‡§ó‡§ø‡§® - ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§∏‡•á</title>
  <style>
    :root { --card-bg: #fff; --accent: #2563eb; --muted: #6b7280; --success:#065f46; --danger:#b91c1c; }
    body{ font-family: Arial, sans-serif; background:#f3f4f6; height:100vh; margin:0; display:flex; align-items:center; justify-content:center; }
    .wrap { width:360px; max-width:94%; padding:20px; box-sizing:border-box; position:relative; }
    .card {
      background:var(--card-bg); border-radius:12px; padding:24px; box-shadow:0 8px 30px rgba(2,6,23,0.08);
      text-align:center; transition: opacity 600ms ease, transform 600ms ease;
    }
    /* fade-out class applied on success */
    .card.fade-out { opacity:0; transform: translateY(-20px) scale(0.98); pointer-events:none; }

    .logo { width:92px; height:92px; object-fit:contain; display:block; margin:0 auto 12px; border-radius:12px; box-shadow:0 3px 8px rgba(0,0,0,0.08); }
    .brand-text { font-size:18px; font-weight:600; margin-bottom:8px; color:#111827; display:none; }

    h1 { margin:0 0 8px; font-size:18px; color:#111827; }
    input { width:100%; padding:10px; margin-top:8px; border-radius:8px; border:1px solid #ddd; font-size:16px; box-sizing:border-box; }
    button { width:100%; padding:10px; margin-top:12px; border-radius:8px; border:0; background:var(--accent); color:#fff; font-weight:600; cursor:pointer; }
    .ghost { background:#efefef;color:#111;border:0;margin-top:8px }
    p.msg { margin-top:10px; font-size:14px; }
    p.error { color:var(--danger); }
    p.info { color:var(--muted); }
    p.success { color:var(--success); }

    /* small helper */
    .row { display:flex; gap:8px; margin-top:10px; }
    .small { font-size:13px; color:var(--muted); }
  </style>
</head>
<body>
  <div class="wrap">
    <div id="card" class="card">
      <img id="siteLogo" class="logo" src="logo.png" alt="Site Logo" style="display:none;">
      <div id="brandText" class="brand-text">RjPapad</div>

      <h1>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§∏‡•á ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</h1>

      <div id="loginSection">
        <input id="mobile" type="tel" maxlength="10" inputmode="numeric" placeholder="‡§Ö‡§™‡§®‡§æ 10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç" />
        <button id="checkBtn" onclick="checkNumber()">‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç</button>
        <p id="message" class="msg info"></p>
        <div class="row" style="justify-content:center;">
          <button class="ghost" onclick="openRegister()" style="display:inline-block">‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
        <p class="small">‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à ‚Äî ‡§Ö‡§≠‡•Ä "‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞" ‡§™‡§∞ ‡§ú‡§æ‡§è‡§Å‡•§</p>
      </div>

      <div id="dashboard" style="display:none">
        <p id="welcomeText" class="success" style="font-weight:600;"></p>
        <p class="small">‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§Æ‡•á‡§Ç ‡§Ü‡§™ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡•á‡§ú ‡§™‡§∞ ‡§™‡§π‡•Å‡§Å‡§ö‡•á‡§Ç‡§ó‡•á...</p>
      </div>
    </div>
  </div>

<script>
  // CONFIG: demo registeredNumbers (‡§Ü‡§™ ‡§á‡§∏‡•á ‡§π‡§ü‡§æ‡§ï‡§∞ ‡§∏‡§∞‡•ç‡§µ‡§∞-‡§∏‡§æ‡§á‡§° ‡§ö‡•á‡§ï ‡§≤‡§ó‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç)
  let registeredNumbers = ["9876543210","9999999999","7012345678"];
  // ‡§Ø‡§¶‡§ø ‡§™‡§π‡§≤‡•á ‡§ï‡§π‡•Ä‡§Ç registration ‡§π‡•Å‡§Ü ‡§π‡•ã ‡§§‡•ã localStorage ‡§µ‡§æ‡§≤‡•á ‡§®‡§Ç‡§¨‡§∞ ‡§≠‡•Ä ‡§≤‡•Ä‡§ú‡§ø‡§è
  const saved = JSON.parse(localStorage.getItem('registeredNumbers') || '[]');
  registeredNumbers = Array.from(new Set([...registeredNumbers, ...saved]));

  const mobileInput = document.getElementById('mobile');
  const messageP = document.getElementById('message');
  const card = document.getElementById('card');
  const loginSection = document.getElementById('loginSection');
  const dashboard = document.getElementById('dashboard');
  const welcomeText = document.getElementById('welcomeText');
  const siteLogo = document.getElementById('siteLogo');
  const brandText = document.getElementById('brandText');

  // fallback raw URL (aap change kar sakte ho)
  const fallbackLogoRaw = 'https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/main/logo.png';

  // logo try load
  (function tryLoadLogo(){
    // try relative first
    loadImage(siteLogo.src || 'logo.png').then(() => {
      siteLogo.src = siteLogo.src || 'logo.png';
      siteLogo.style.display = 'block';
      brandText.style.display = 'none';
    }).catch(() => {
      siteLogo.src = fallbackLogoRaw;
      loadImage(siteLogo.src).then(()=> {
        siteLogo.style.display = 'block';
        brandText.style.display = 'none';
      }).catch(()=> {
        siteLogo.style.display = 'none';
        brandText.style.display = 'block';
      });
    });
  })();

  function loadImage(url){ return new Promise((res,rej)=>{ const i=new Image(); i.onload=()=>res(true); i.onerror=()=>rej(false); i.src=url; }); }

  function showMessage(text, kind='info'){
    messageP.className = 'msg ' + (kind || 'info');
    messageP.textContent = text;
  }

  function validateMobile(m){ return /^[0-9]{10}$/.test(m); }

  function checkNumber(){
    const mobile = mobileInput.value.trim();
    showMessage('', 'info');
    if (!validateMobile(mobile)){
      showMessage('‡§ï‡•É‡§™‡§Ø‡§æ 10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§π‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§', 'error');
      return;
    }
    showMessage('‡§®‡§Ç‡§¨‡§∞ ‡§ú‡§æ‡§Å‡§ö‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à...', 'info');

    // simulate server delay
    setTimeout(()=>{
      // refresh registered numbers from localStorage each time
      const stored = JSON.parse(localStorage.getItem('registeredNumbers') || '[]');
      const allRegistered = Array.from(new Set([...registeredNumbers, ...stored]));

      if (allRegistered.includes(mobile)) {
        // success: fade out card then redirect to main.html
        loginSuccess(mobile);
      } else {
        // not registered: show message + suggest register
        showMessage('‡§Ø‡§π ‡§®‡§Ç‡§¨‡§∞ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞‡•ç‡§° ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç‡•§', 'error');
        // show register button visible (we already have)
      }
    },700);
  }

  function loginSuccess(mobile){
    // show welcome then fade
    loginSection.style.display = 'none';
    dashboard.style.display = 'block';
    welcomeText.textContent = '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à ' + maskNumber(mobile) + ' ‡§ú‡•Ä üôè';
    showMessage('', '');

    // start fade animation (add class)
    setTimeout(()=> card.classList.add('fade-out'), 80);

    // after fade completes redirect to main page
    setTimeout(()=> {
      // replace with your main page
      window.location.href = 'main.html';
    }, 700); // 600ms CSS transition + small buffer
  }

  function openRegister(){
    // go to register page (you will implement / we provided)
    window.location.href = 'register.html';
  }

  function maskNumber(num){ return num.slice(0,3) + '****' + num.slice(7); }

  // Enter key handling
  mobileInput.addEventListener('keyup', (e)=>{ if (e.key === 'Enter') document.getElementById('checkBtn').click(); });
</script>
</body>
</html>
