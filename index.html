<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RJ рдкрд╛рдкрдбрд╝ тАФ Language-specific Banners + AutoSave</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  html,body{height:100%;width:100%;font-family:'Noto Sans Devanagari',sans-serif;background:#fff8e1;color:#222;overflow-x:hidden}
  /* Splash */
  #logoArea{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000;transition:opacity .6s ease}
  #logoArea img{width:70vw;max-width:320px;height:auto;margin-bottom:18px;border-radius:10px}
  .lang-bar{display:flex;gap:10px}
  .lang-btn{background:#ffc107;border:none;padding:10px 18px;border-radius:8px;font-weight:700;cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,.15)}
  .lang-btn:hover{background:#ffb300}
  .site{max-width:980px;margin:0 auto;padding:12px}
  .content{display:none}
  .content.active{display:block;animation:fadeIn .25s}
  @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
  .banner{width:100%;display:block;border-radius:0;margin:10px 0;object-fit:cover}
  h1{text-align:center;color:#c47f00;margin:10px 0 15px;font-size:22px}
  .form-card{background:#fff;padding:16px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.08);max-width:720px;margin:10px auto}
  input{width:100%;padding:10px;margin:6px 0;border:1px solid #ccc;border-radius:6px;font-size:15px}
  .controls{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
  .save-btn{background:#ffc107;border:none;padding:10px 16px;border-radius:8px;font-weight:700;cursor:pointer}
  .save-btn:hover{background:#ffb300}
  .small-btn{background:#eee;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
  .reg-item{background:#fff7e6;padding:8px;margin:8px 0;border-radius:8px;display:flex;flex-wrap:wrap;align-items:center;gap:8px}
  .icon-btn{background:#fff;border:1px solid #ddd;padding:6px 8px;border-radius:6px;cursor:pointer}
  footer{text-align:center;color:#666;margin:20px 0;font-size:13px}
  @media(max-width:520px){#logoArea img{width:80vw}}
</style>
</head>
<body>

<!-- SPLASH LOGO -->
<div id="logoArea">
  <img src="https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_0000000040986208ae9fdd85a3a3cbc8.png" alt="RJ Logo">
  <div class="lang-bar">
    <button class="lang-btn" onclick="chooseLang('hi')">рд╣рд┐рдВрджреА</button>
    <button class="lang-btn" onclick="chooseLang('en')">English</button>
    <button class="lang-btn" onclick="chooseLang('gu')">ркЧрлБркЬрк░рк╛ркдрлА</button>
  </div>
</div>

<div class="site">
  <!-- SINGLE CONTENT AREA: banners and registrations update per-language -->
  <section id="langContent" class="content">
    <img id="topBanner" class="banner" src="" alt="Top Banner">
    <h1 id="titleText">RJ рдкрд╛рдкрдбрд╝</h1>

    <div class="form-card">
      <div class="controls">
        <button class="save-btn" onclick="saveAll()">ЁЯТ╛ Save</button>
        <button class="small-btn" onclick="addRegistrant()">тЮХ Add / рдЬреНрд╡рд╛рдЗрдВрдЯ рдЬреЛрдбрд╝реЗрдВ</button>
      </div>
      <div id="regs"></div>
    </div>

    <img id="bottomBanner" class="banner" src="" alt="Bottom Banner">
  </section>
</div>

<footer>┬й 2025 RJ рдкрд╛рдкрдбрд╝</footer>

<script>
/*
 Storage structure:
 {
   lang: null|'hi'|'en'|'gu',
   data: {
     hi: { list: [ {name,mobile}, ... ] },
     en: { list: [...] },
     gu: { list: [...] }
   }
 }
*/
const STORAGE_KEY = "rjpapad_lang_banners_v1";

/* Language-specific banners and titles (change URLs if you have other images) */
const LANG_CONF = {
  hi: {
    title: "RJ рдкрд╛рдкрдбрд╝ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ!",
    top: "https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000de7861faafb1b8052e9bd122%20(1).png",
    bottom: "https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000aac061fdacd52dbbf8a83410.png"
  },
  en: {
    title: "Welcome to RJ Papad!",
    top: "https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000aac061fdacd52dbbf8a83410.png",
    bottom: "https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000de7861faafb1b8052e9bd122%20(1).png"
  },
  gu: {
    title: "RJ рккрк╛рккркб ркорк╛ркВ ркЖрккркирлБркВ рк╕рлНрк╡рк╛ркЧркд ркЫрлЗ!",
    top: "https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000de7861faafb1b8052e9bd122%20(1).png",
    bottom: "https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000aac061fdacd52dbbf8a83410.png"
  }
};

/* Helpers: load/save state */
function loadState(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(!raw){
      return { lang:null, data:{ hi:{list:[]}, en:{list:[]}, gu:{list:[]} } };
    }
    const parsed = JSON.parse(raw);
    parsed.data = parsed.data || { hi:{list:[]}, en:{list:[]}, gu:{list:[]} };
    parsed.data.hi = parsed.data.hi || {list:[]};
    parsed.data.en = parsed.data.en || {list:[]};
    parsed.data.gu = parsed.data.gu || {list:[]};
    return parsed;
  }catch(e){
    console.error(e);
    return { lang:null, data:{ hi:{list:[]}, en:{list:[]}, gu:{list:[]} } };
  }
}
function saveState(state){ localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }

/* Render registrations for currently selected language */
function renderRegistrationsFor(lang){
  const container = document.getElementById("regs");
  container.innerHTML = "";
  const state = loadState();
  const list = state.data[lang].list || [];
  if(list.length === 0){
    // show one empty row by default
    addRegistrant(lang);
    return;
  }
  list.forEach((r, idx) => {
    const row = document.createElement("div");
    row.className = "reg-item";

    const name = document.createElement("input");
    name.type = "text";
    name.placeholder = (lang==='hi'?'рдирд╛рдо (рд╡реИрдХрд▓реНрдкрд┐рдХ)': (lang==='en'?'Name (Optional)':'ркирк╛рко (рк╡рлИркХрк▓рлНрккрк┐ркХ)'));
    name.value = r.name || "";
    name.oninput = ()=> updateRegistrant(lang, idx, name.value, mobile.value);

    const mobile = document.createElement("input");
    mobile.type = "tel";
    mobile.placeholder = (lang==='hi'?'рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░ (рдЕрдирд┐рд╡рд╛рд░реНрдп)': (lang==='en'?'Mobile Number (Required)':'ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ (ркЖрк╡рк╢рлНркпркХ)'));
    mobile.value = r.mobile || "";
    mobile.oninput = ()=> updateRegistrant(lang, idx, name.value, mobile.value);

    const del = document.createElement("button");
    del.className = "icon-btn";
    del.textContent = "ЁЯЧСя╕П";
    del.onclick = ()=> deleteRegistrant(lang, idx);

    row.appendChild(name);
    row.appendChild(mobile);
    row.appendChild(del);
    container.appendChild(row);
  });
}

/* Add / update / delete functions (per language) */
function addRegistrant(lang){
  const state = loadState();
  state.data[lang].list.push({ name:"", mobile:"" });
  saveState(state);
  renderRegistrationsFor(lang);
}

function updateRegistrant(lang, idx, name, mobile){
  const state = loadState();
  state.data[lang].list[idx] = { name, mobile };
  saveState(state);
}

function deleteRegistrant(lang, idx){
  if(!confirm("рдХреНрдпрд╛ рдЖрдк рдЗрд╕ рдПрдВрдЯреНрд░реА рдХреЛ рд╣рдЯрд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? / Delete this entry?")) return;
  const state = loadState();
  state.data[lang].list.splice(idx, 1);
  saveState(state);
  renderRegistrationsFor(lang);
}

function saveAll(){
  alert("тЬЕ рдбреЗрдЯрд╛ рд╕реЗрд╡ рд╣реЛ рдЧрдпрд╛ (saved).");
}

/* Choose language тАФ triggered only by user click on splash */
function chooseLang(lang){
  // hide splash
  const logo = document.getElementById("logoArea");
  logo.style.opacity = "0";
  setTimeout(()=>{ logo.style.display = "none"; }, 650);

  // set state
  const state = loadState();
  state.lang = lang;
  saveState(state);

  // set banners/titles for this language
  const conf = LANG_CONF[lang] || LANG_CONF.hi;
  document.getElementById("topBanner").src = conf.top;
  document.getElementById("bottomBanner").src = conf.bottom;
  document.getElementById("titleText").textContent = conf.title;

  // show content section
  document.getElementById("langContent").classList.add("active");

  // render registrations for this language
  renderRegistrationsFor(lang);

  // scroll to top
  window.scrollTo({ top: 0, behavior: "smooth" });
}

/* Auto-save entire state every 5s (redundant because updateRegistrant saves on typing) */
setInterval(()=>{ const s = loadState(); saveState(s); }, 5000);

/* On load: always show splash (logo). Do NOT auto-open last language. */
window.addEventListener("DOMContentLoaded", ()=>{
  document.getElementById("logoArea").style.display = "flex";
});
</script>
</body>
</html>
