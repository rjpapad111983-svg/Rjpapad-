<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RJ ‡§™‡§æ‡§™‡§°‡§º ‚Äî Register / Login / Admin (auto detect)</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  html,body{height:100%;width:100%;font-family:'Noto Sans Devanagari',sans-serif;background:#fff8e1;color:#222;overflow-x:hidden}
  .center{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;padding:12px}
  .card{background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.1);max-width:420px;width:100%}
  input, textarea{width:100%;padding:10px;margin:8px 0;border:1px solid #ccc;border-radius:6px;font-size:15px}
  button{background:#ffc107;border:none;padding:10px 16px;border-radius:8px;font-weight:700;cursor:pointer;width:100%}
  button.secondary{background:#eee;color:#111;width:auto;padding:8px 12px;margin-top:8px}
  button:hover{opacity:0.98}
  h1{color:#c47f00;margin-bottom:10px}
  .banner{width:100%;margin:10px 0;border-radius:0;display:block}
  #notify{position:fixed;bottom:-80px;left:50%;transform:translateX(-50%);background:#4CAF50;color:#fff;padding:10px 18px;border-radius:30px;font-weight:600;transition:all 0.45s ease;z-index:9999}
  #notify.show{bottom:20px}
  .topbar{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:rgba(255,255,255,0.9);position:sticky;top:0;box-shadow:0 1px 6px rgba(0,0,0,0.06);z-index:20}
  .logout-btn{background:#f44336;color:white;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
  .logout-btn:hover{opacity:0.95}
  footer{text-align:center;color:#666;margin:18px 0;font-size:13px}
  .admin-panel{max-width:980px;margin:12px auto;padding:12px;background:#fff;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
  .admin-row{display:flex;gap:8px;align-items:center}
  .admin-row input{flex:1}
  .btn-red{background:#f44336;color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
  .btn-blue{background:#2196F3;color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
  textarea.small{height:90px}
</style>
</head>
<body>

<div id="notify">‚úÖ</div>

<!-- REGISTER PAGE -->
<div id="registerPage" class="center" style="display:none;">
  <div class="card">
    <h1>‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</h1>
    <input id="regName" type="text" placeholder="‡§®‡§æ‡§Æ / Name">
    <input id="regMobile" type="tel" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ / Mobile Number">
    <button id="regSaveBtn">üíæ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
    <button class="secondary" id="goToLoginBtn" style="display:none;">‡§Æ‡•à‡§Ç ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§π‡•Ç‡§Å (Login)</button>
  </div>
</div>

<!-- LOGIN PAGE -->
<div id="loginPage" class="center" style="display:none;">
  <div class="card">
    <h1>‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</h1>
    <input id="loginMobile" type="tel" placeholder="‡§Ö‡§™‡§®‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç ‡§Ø‡§æ admin ‡§≤‡§ø‡§ñ‡•á‡§Ç">
    <button id="loginBtn">üîì ‡§≤‡•â‡§ó‡§ø‡§®</button>
    <button class="secondary" id="goToRegisterBtn">‡§®‡§Ø‡§æ ‡§Ø‡•Ç‡§ú‡§º‡§∞? ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
  </div>
</div>

<!-- MAIN SITE -->
<div id="mainSite" style="display:none;">
  <div class="topbar">
    <div id="welcomeText">Welcome</div>
    <button id="logoutBtn" class="logout-btn">Logout</button>
  </div>

  <div style="max-width:980px;margin:12px auto;padding:12px;">
    <img id="topBanner" class="banner" alt="Top Banner">
    <h1 id="titleText" style="text-align:center;color:#c47f00">RJ ‡§™‡§æ‡§™‡§°‡§º ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!</h1>

    <div style="background:#fff;padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.04);margin:12px 0;">
      <p><strong>‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§®‡§æ‡§Æ:</strong> <span id="showName">‚Äî</span></p>
      <p><strong>‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:</strong> <span id="showMobile">‚Äî</span></p>
    </div>

    <img id="bottomBanner" class="banner" alt="Bottom Banner">
  </div>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel" style="display:none;">
  <div class="admin-panel">
    <h2>Admin Panel (Unlocked)</h2>
    <div style="margin-bottom:12px;">
      <strong>Local Registered User:</strong>
      <div id="adminSaved" style="margin-top:8px;">‚Äî</div>
    </div>

    <div style="margin-bottom:12px;">
      <strong>Change Banners:</strong>
      <div class="admin-row" style="margin-top:8px">
        <input id="adminTop" placeholder="Top banner URL">
        <button class="btn-blue" id="saveBannersBtn">Save</button>
      </div>
      <div class="admin-row" style="margin-top:8px">
        <input id="adminBottom" placeholder="Bottom banner URL">
        <button class="btn-red" id="resetStorageBtn">Reset Storage</button>
      </div>
    </div>
    <button id="closeAdmin" class="secondary">Close Admin Panel</button>
  </div>
</div>

<footer>¬© 2025 RJ ‡§™‡§æ‡§™‡§°‡§º</footer>

<script>
const STORAGE_KEY="rjpapad_user_data_v1";
const BANNER_KEY="rjpapad_banners_v1";
const SESSION_KEY="rjpapad_session_v1";
const DEFAULT_TOP="https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000de7861faafb1b8052e9bd122%20(1).png";
const DEFAULT_BOTTOM="https://raw.githubusercontent.com/rjpapad111983-svg/Rjpapad-/refs/heads/main/file_00000000aac061fdacd52dbbf8a83410.png";

/* Utils */
function showNotify(msg){const n=document.getElementById("notify");n.textContent=msg;n.classList.add("show");setTimeout(()=>n.classList.remove("show"),3000);}
function loadUser(){try{const r=localStorage.getItem(STORAGE_KEY);return r?JSON.parse(r):{name:null,mobile:null};}catch{return {name:null,mobile:null};}}
function saveUser(u){localStorage.setItem(STORAGE_KEY,JSON.stringify(u));}
function saveSession(m){sessionStorage.setItem(SESSION_KEY,m);}
function clearSession(){sessionStorage.removeItem(SESSION_KEY);}
function getSession(){return sessionStorage.getItem(SESSION_KEY);}
function loadBanners(){try{const r=localStorage.getItem(BANNER_KEY);return r?JSON.parse(r):{top:DEFAULT_TOP,bottom:DEFAULT_BOTTOM,title:"RJ ‡§™‡§æ‡§™‡§°‡§º ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!"};}catch{return {top:DEFAULT_TOP,bottom:DEFAULT_BOTTOM,title:"RJ ‡§™‡§æ‡§™‡§°‡§º ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!"};}}
function saveBanners(o){localStorage.setItem(BANNER_KEY,JSON.stringify(o));}
function applyBanners(){const b=loadBanners();document.getElementById("topBanner").src=b.top;document.getElementById("bottomBanner").src=b.bottom;document.getElementById("titleText").textContent=b.title;}

/* Pages */
const registerPage=document.getElementById("registerPage");
const loginPage=document.getElementById("loginPage");
const mainSite=document.getElementById("mainSite");
const adminPanel=document.getElementById("adminPanel");

function showRegister(){registerPage.style.display="flex";loginPage.style.display="none";mainSite.style.display="none";adminPanel.style.display="none";}
function showLogin(){registerPage.style.display="none";loginPage.style.display="flex";mainSite.style.display="none";adminPanel.style.display="none";}
function openMain(user){registerPage.style.display="none";loginPage.style.display="none";mainSite.style.display="block";adminPanel.style.display="none";applyBanners();document.getElementById("showName").textContent=user.name||"‚Äî";document.getElementById("showMobile").textContent=user.mobile||"‚Äî";document.getElementById("welcomeText").textContent=`Logged in as ${user.mobile}`;}
function showAdmin(){registerPage.style.display="none";loginPage.style.display="none";mainSite.style.display="none";adminPanel.style.display="block";const u=loadUser();document.getElementById("adminSaved").textContent=u.mobile?`Name: ${u.name||"‚Äî"}, Mobile: ${u.mobile}`:"‡§ï‡•ã‡§à local user ‡§®‡§π‡•Ä‡§Ç";const b=loadBanners();document.getElementById("adminTop").value=b.top;document.getElementById("adminBottom").value=b.bottom;}

/* Load logic */
window.addEventListener("DOMContentLoaded",()=>{
  const u=loadUser();
  const sess=getSession();
  if(sess&&u.mobile&&sess===u.mobile){openMain(u);}
  else if(u.mobile){showLogin();}
  else{showRegister();}
  applyBanners();
});

/* Register */
document.getElementById("regSaveBtn").addEventListener("click",()=>{
  const n=document.getElementById("regName").value.trim();
  const m=document.getElementById("regMobile").value.trim();
  if(!m){alert("‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç");return;}
  saveUser({name:n,mobile:m});saveSession(m);showNotify("‚úÖ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§∂‡§® ‡§∏‡§´‡§≤!");openMain({name:n,mobile:m});
});

/* Login */
document.getElementById("loginBtn").addEventListener("click",()=>{
  const entered=document.getElementById("loginMobile").value.trim().toLowerCase();
  if(!entered){alert("‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§°‡§æ‡§≤‡•á‡§Ç ‡§Ø‡§æ 'admin' ‡§≤‡§ø‡§ñ‡•á‡§Ç");return;}
  if(entered==="admin"){showNotify("üëë Admin Access Granted");showAdmin();return;}
  const u=loadUser();
  if(u&&u.mobile===entered){saveSession(entered);showNotify("‚úÖ ‡§≤‡•â‡§ó‡§ø‡§® ‡§∏‡§´‡§≤!");openMain(u);}
  else{alert("‚ùå ‡§ó‡§≤‡§§ ‡§®‡§Ç‡§¨‡§∞ ‡§Ø‡§æ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§");}
});

/* Logout */
document.getElementById("logoutBtn").addEventListener("click",()=>{
  if(!confirm("‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?"))return;clearSession();showNotify("üîì ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ");setTimeout(showLogin,600);
});

/* Admin Actions */
document.getElementById("saveBannersBtn").addEventListener("click",()=>{
  const top=document.getElementById("adminTop").value||DEFAULT_TOP;
  const bottom=document.getElementById("adminBottom").value||DEFAULT_BOTTOM;
  saveBanners({top,bottom,title:"RJ ‡§™‡§æ‡§™‡§°‡§º ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!"});
  showNotify("‚úÖ Banners saved!");
  applyBanners();
});
document.getElementById("resetStorageBtn").addEventListener("click",()=>{
  if(confirm("‡§∏‡§æ‡§∞‡§æ local ‡§°‡•á‡§ü‡§æ ‡§π‡§ü‡§æ‡§®‡§æ ‡§π‡•à?")){localStorage.clear();sessionStorage.clear();showNotify("‚ôªÔ∏è Cleared!");setTimeout(showRegister,600);}
});
document.getElementById("closeAdmin").addEventListener("click",()=>{showLogin();});
document.getElementById("goToRegisterBtn").addEventListener("click",showRegister);
document.getElementById("goToLoginBtn").addEventListener("click",showLogin);
</script>
</body>
</html>
